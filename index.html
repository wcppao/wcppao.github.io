<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="John Doe">




<title>我的相册博客</title>



    <link rel="icon" href="/favicon.ico">



    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    
    <link rel="stylesheet" href="/css/custom.css">



    <!-- scripts list from _config.yml -->
    
    <script src="/js/config.js"></script>
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
        <!-- MathJax配置，可通过单美元符号书写行内公式等 -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
    });
</script>
<!-- 给MathJax元素添加has-jax class -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<!-- 通过连接CDN加载MathJax的js代码 -->
<script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


     


<meta name="generator" content="Hexo 7.3.0"></head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const currentTheme = window.localStorage && window.localStorage.getItem('theme') || '';
            const isDark = currentTheme === 'dark';
            const pagebody = document.getElementsByTagName('body')[0]
            if (isDark) {
                pagebody.classList.add('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "· Dark"
            } else {
                pagebody.classList.remove('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "· Light"
            }
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">我的相册博客</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">日志</a>
                
                    <a class="menu-item" href="/category">分类</a>
                
                    <a class="menu-item" href="/tag">标签</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">我的相册博客</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">
76; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">日志</a>
                
                    <a class="menu-item" href="/category">分类</a>
                
                    <a class="menu-item" href="/tag">标签</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                
    <div class="container album-container">
        <!-- 相册标题 -->
        <div class="album-header">
            <h1>我的相册</h1>
            <p>记录生活中的美好瞬间</p>
        </div>
        
        <!-- 模块切换按钮 -->
        <div class="module-tabs">
            <button class="module-btn active" data-module="photos">壹壹图片</button>
            <button class="module-btn" data-module="videos">壹壹视频</button>
        </div>
        
        <!-- 壹壹图片模块 -->
        <div class="module-content active" id="photos-module">
            <!-- 相册分类标签 -->
            <div class="album-tags">
                <button class="tag-btn active" data-tag="all">全部</button>
                <button class="tag-btn" data-tag="travel">旅行</button>
                <button class="tag-btn" data-tag="life">生活</button>
                <button class="tag-btn" data-tag="nature">自然</button>
                <button class="tag-btn" data-tag="food">美食</button>
            </div>
            
            <!-- 图片网格 -->
            <div class="photo-grid" id="photo-grid">
                <!-- 图片将通过JavaScript动态加载 -->
            </div>
            
            <!-- 分页按钮 -->
            <div class="pagination" id="photo-pagination">
                <button class="page-btn" id="prev-photo-btn" disabled>上一页</button>
                <span class="page-info" id="photo-page-info">第 1 页 / 共 1 页</span>
                <button class="page-btn" id="next-photo-btn" disabled>下一页</button>
            </div>
        </div>
        
        <!-- 壹壹视频模块 -->
        <div class="module-content" id="videos-module">
            <!-- 视频分类标签 -->
            <div class="album-tags">
                <button class="tag-btn active" data-tag="all">全部</button>
                <button class="tag-btn" data-tag="life">生活</button>
            </div>
            
            <!-- 视频网格 -->
            <div class="photo-grid" id="video-grid">
                <!-- 视频将通过JavaScript动态加载 -->
            </div>
            
            <!-- 分页按钮 -->
            <div class="pagination" id="video-pagination">
                <button class="page-btn" id="prev-video-btn" disabled>上一页</button>
                <span class="page-info" id="video-page-info">第 1 页 / 共 1 页</span>
                <button class="page-btn" id="next-video-btn" disabled>下一页</button>
            </div>
        </div>
        
        <!-- 媒体查看模态框 -->
        <div id="mediaModal" class="modal">
            <span class="close">&times;</span>
            <div class="modal-content-container">
                <img class="modal-content" id="modalImage" style="display: none;">
                <video class="modal-content" id="modalVideo" controls style="display: none;">
                    <source id="modalVideoSource" src="" type="video/mp4">
                </video>
            </div>
            <div id="caption"></div>
        </div>
    </div>
    
    <script>
        // 当前状态
        let currentModule = 'photos';
        let currentPhotoPage = 1;
        let currentVideoPage = 1;
        let currentPhotoTag = 'all';
        let currentVideoTag = 'all';
        
        // DOM元素
        const moduleBtns = document.getElementsByClassName('module-btn');
        const moduleContents = document.getElementsByClassName('module-content');
        const photoGrid = document.getElementById('photo-grid');
        const videoGrid = document.getElementById('video-grid');
        const photoPagination = document.getElementById('photo-pagination');
        const videoPagination = document.getElementById('video-pagination');
        const prevPhotoBtn = document.getElementById('prev-photo-btn');
        const nextPhotoBtn = document.getElementById('next-photo-btn');
        const photoPageInfo = document.getElementById('photo-page-info');
        const prevVideoBtn = document.getElementById('prev-video-btn');
        const nextVideoBtn = document.getElementById('next-video-btn');
        const videoPageInfo = document.getElementById('video-page-info');
        const modal = document.getElementById('mediaModal');
        const modalImg = document.getElementById('modalImage');
        const modalVideo = document.getElementById('modalVideo');
        const modalVideoSource = document.getElementById('modalVideoSource');
        const captionText = document.getElementById('caption');
        const closeBtn = document.getElementsByClassName('close')[0];
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 加载图片
            loadPhotos();
            // 加载视频
            loadVideos();
            // 绑定事件
            bindEvents();
        });
        
        // 绑定事件
        function bindEvents() {
            // 模块切换
            for (let i = 0; i < moduleBtns.length; i++) {
                moduleBtns[i].onclick = function() {
                    const module = this.getAttribute('data-module');
                    switchModule(module);
                };
            }
            
            // 图片分类筛选
            const photoTagBtns = document.querySelectorAll('#photos-module .tag-btn');
            for (let i = 0; i < photoTagBtns.length; i++) {
                photoTagBtns[i].onclick = function() {
                    currentPhotoTag = this.getAttribute('data-tag');
                    currentPhotoPage = 1;
                    // 更新标签按钮状态
                    for (let j = 0; j < photoTagBtns.length; j++) {
                        photoTagBtns[j].classList.remove('active');
                    }
                    this.classList.add('active');
                    // 重新加载图片
                    loadPhotos();
                };
            }
            
            // 视频分类筛选
            const videoTagBtns = document.querySelectorAll('#videos-module .tag-btn');
            for (let i = 0; i < videoTagBtns.length; i++) {
                videoTagBtns[i].onclick = function() {
                    currentVideoTag = this.getAttribute('data-tag');
                    currentVideoPage = 1;
                    // 更新标签按钮状态
                    for (let j = 0; j < videoTagBtns.length; j++) {
                        videoTagBtns[j].classList.remove('active');
                    }
                    this.classList.add('active');
                    // 重新加载视频
                    loadVideos();
                };
            }
            
            // 图片分页
            prevPhotoBtn.onclick = function() {
                if (currentPhotoPage > 1) {
                    currentPhotoPage--;
                    loadPhotos();
                }
            };
            
            nextPhotoBtn.onclick = function() {
                const filteredPhotos = getFilteredItems(config.images, currentPhotoTag);
                const totalPages = Math.ceil(filteredPhotos.length / config.itemsPerPage);
                if (currentPhotoPage < totalPages) {
                    currentPhotoPage++;
                    loadPhotos();
                }
            };
            
            // 视频分页
            prevVideoBtn.onclick = function() {
                if (currentVideoPage > 1) {
                    currentVideoPage--;
                    loadVideos();
                }
            };
            
            nextVideoBtn.onclick = function() {
                const filteredVideos = getFilteredItems(config.videos, currentVideoTag);
                const totalPages = Math.ceil(filteredVideos.length / config.itemsPerPage);
                if (currentVideoPage < totalPages) {
                    currentVideoPage++;
                    loadVideos();
                }
            };
            
            // 关闭模态框
            closeBtn.onclick = function() {
                closeModal();
            };
            
            // 点击模态框外部关闭
            window.onclick = function(event) {
                if (event.target == modal) {
                    closeModal();
                }
            };
        }
        
        // 切换模块
        function switchModule(module) {
            currentModule = module;
            
            // 更新模块按钮状态
            for (let i = 0; i < moduleBtns.length; i++) {
                moduleBtns[i].classList.remove('active');
            }
            document.querySelector(`[data-module="${module}"]`).classList.add('active');
            
            // 显示对应的模块内容
            for (let i = 0; i < moduleContents.length; i++) {
                moduleContents[i].classList.remove('active');
            }
            document.getElementById(`${module}-module`).classList.add('active');
        }
        
        // 获取筛选后的项目
        function getFilteredItems(items, tag) {
            if (tag === 'all') {
                return items;
            }
            return items.filter(item => item.tag === tag);
        }
        
        // 加载图片
        function loadPhotos() {
            const filteredPhotos = getFilteredItems(config.images, currentPhotoTag);
            const totalPages = Math.ceil(filteredPhotos.length / config.itemsPerPage);
            
            // 计算当前页的图片
            const startIndex = (currentPhotoPage - 1) * config.itemsPerPage;
            const endIndex = startIndex + config.itemsPerPage;
            const currentPhotos = filteredPhotos.slice(startIndex, endIndex);
            
            // 清空图片网格
            photoGrid.innerHTML = '';
            
            // 添加图片
            currentPhotos.forEach(photo => {
                const photoItem = document.createElement('div');
                photoItem.className = `photo-item ${photo.tag}`;
                photoItem.innerHTML = `
                    <img src="${photo.src}" alt="${photo.alt}" data-src="${photo.src}" data-type="image">
                    <div class="photo-overlay">
                        <span>${getTagName(photo.tag)}</span>
                    </div>
                `;
                
                // 绑定点击事件
                photoItem.onclick = function() {
                    openModal(photo);
                };
                
                photoGrid.appendChild(photoItem);
            });
            
            // 更新分页信息
            photoPageInfo.textContent = `第 ${currentPhotoPage} 页 / 共 ${totalPages} 页`;
            prevPhotoBtn.disabled = currentPhotoPage === 1;
            nextPhotoBtn.disabled = currentPhotoPage === totalPages;
        }
        
        // 加载视频
        function loadVideos() {
            const filteredVideos = getFilteredItems(config.videos, currentVideoTag);
            const totalPages = Math.ceil(filteredVideos.length / config.itemsPerPage);
            
            // 计算当前页的视频
            const startIndex = (currentVideoPage - 1) * config.itemsPerPage;
            const endIndex = startIndex + config.itemsPerPage;
            const currentVideos = filteredVideos.slice(startIndex, endIndex);
            
            // 清空视频网格
            videoGrid.innerHTML = '';
            
            // 添加视频
            currentVideos.forEach(video => {
                const videoItem = document.createElement('div');
                videoItem.className = `photo-item ${video.tag}`;
                
                // 使用缩略图作为视频预览
                const thumbnail = video.thumbnail || video.src.replace('.mp4', '.jpg');
                
                videoItem.innerHTML = `
                    <div class="video-container">
                        <img src="${thumbnail}" alt="${video.alt}" data-src="${video.src}" data-type="video">
                        <div class="video-play-icon">▶</div>
                    </div>
                    <div class="photo-overlay">
                        <span>${getTagName(video.tag)}</span>
                    </div>
                `;
                
                // 绑定点击事件
                videoItem.onclick = function() {
                    openModal(video);
                };
                
                videoGrid.appendChild(videoItem);
            });
            
            // 更新分页信息
            videoPageInfo.textContent = `第 ${currentVideoPage} 页 / 共 ${totalPages} 页`;
            prevVideoBtn.disabled = currentVideoPage === 1;
            nextVideoBtn.disabled = currentVideoPage === totalPages;
        }
        
        // 获取标签名称
        function getTagName(tag) {
            const tagNames = {
                'travel': '旅行',
                'life': '生活',
                'nature': '自然',
                'food': '美食'
            };
            return tagNames[tag] || tag;
        }
        
        // 打开模态框
        function openModal(media) {
            modal.style.display = 'block';
            
            if (media.src.endsWith('.mp4') || media.src.endsWith('.webm') || media.src.endsWith('.ogg')) {
                // 视频
                modalImg.style.display = 'none';
                modalVideo.style.display = 'block';
                modalVideoSource.src = media.src;
                modalVideo.load();
                modalVideo.play();
            } else {
                // 图片
                modalVideo.style.display = 'none';
                modalImg.style.display = 'block';
                modalImg.src = media.src;
            }
            
            captionText.innerHTML = media.alt;
        }
        
        // 关闭模态框
        function closeModal() {
            modal.style.display = 'none';
            // 暂停视频
            modalVideo.pause();
            modalVideo.currentTime = 0;
        }
    </script>

            </div>
        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© John Doe | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>



    <script>
        function load_more() {
            var a = document.getElementById("load_more_btn");
            a.style.display = "none";
            var b = document.getElementById("more_posts");
            b.style.display = "block";
        }
    </script>

</body>

</html>
